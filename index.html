<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify-like Audio Player</title>
    <style>
        /* Global Styles */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .audio-player {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 90%; /* Adjust width for phone view */
            max-width: 300px; /* Limit maximum width */
            background-color: #1E1E1E;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .track-info {
            text-align: center;
            margin-bottom: 20px;
            color: #fff;
        }

        .track-title {
            font-size: 18px;
            margin-bottom: 5px;
        }

        .track-artist {
            font-size: 14px;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background-color: #535353;
            border-radius: 2px;
            margin-bottom: 15px;
            position: relative;
            cursor: pointer;
            overflow: hidden; /* Hide the rounded ends that will extend beyond the container */
        }

        .progress {
            height: 100%;
            background-color: #1ED760;
            border-radius: 2px; /* Adjust border radius to match progress bar */
            position: absolute;
            top: 0;
            left: 0;
            transition: width 0.1s linear; /* Add smooth transition */
        }

        .controls {
            display: flex;
            flex-direction: column; /* Adjust to stack controls vertically */
            align-items: center; /* Center controls horizontally */
            justify-content: center; /* Center controls vertically */
            width: 100%;
            margin-top: 10px; /* Add margin to separate from timing */
        }

        .timing-container {
            display: flex;
            justify-content: space-between;
            width: 100%;
            color: #fff;
            font-size: 14px;
        }

        .playback-container {
            display: flex;
            align-items: center;
        }

        button {
            background-color: transparent;
            border: none;
            cursor: pointer;
            margin: 5px; /* Adjust button margin */
            transition: transform 0.2s ease-in-out;
            border-radius: 100%;
        }

        button:hover {
            transform: scale(1.2);
        }

        button img {
            width: 30px;
            height: 30px;
        }

        /* Adjust play/pause button size */
        #playPauseBtn {margin-top: -10px;
            width: 40px;
            height: 40px;
        }

        .image {
            display: flex;
            justify-content: center;
            margin-bottom: 20px; /* Add space between image and controls */
        }

        img {
            width: 100%; /* Adjust the image size */
            height: auto; /* Maintain aspect ratio */
            border-radius: 5%; /* Make the image circular */
        }

        .lyrics-container {
            display: none;
            margin-top: 20px;
            color: #fff;
            font-size: 16px;
            line-height: 1.6;
            text-align: center;
        }

        .show-lyrics {
            background-color: transparent;
            border: none;
            cursor: pointer;
            color: #1ED760;
            margin-top: 10px;
        }

        .show-lyrics:hover {
            color: #06782e;
        }

        .download-btn {
            background-color: #2632d9;
            color: #fff;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            align-self: flex-end;
        }

        .download-btn:hover {
            background-color: #1d51b1;
        }
    </style>
</head>
<body>
    <div class="audio-player">
        <div class="track-info">
            <div class="track-title">Kouramge</div>
            <div class="track-artist">Eyoom</div>
        </div>
        <div class="image">
            <img src="SongsIcon/Kouramge.png" alt="Album Cover">
        </div>
        <div class="progress-bar" id="progressBar">
            <div class="progress" id="progress"></div>
        </div>
        <div class="timing-container">
            <div class="current-timing" id="currentTiming">0:00</div>
            <div class="playback-container">
                <button id="playPauseBtn"><img src="play.png" alt="Play"></button>
            </div>
            <div class="full-timing" id="fullTiming">0:00</div>
            
        </div>
        <button class="show-lyrics" id="toggleLyricsBtn">Show Lyrics</button>
        <div class="lyrics-container" id="lyricsContainer">
            Kouramge
            Lonthokta Thamoina

            Chatlamdai gi
            Mikup Asida

            Kouramge
            Ningamda Punshina 

            Laibak Fhaba Kanagi
            Khongloi

            Piramge
            Nuja Nangi Mangol

            Yaiphana Lei uko
            Nungaina Lei uko

            Kouramge
            Kaongamda Leinungshi

            Pamjaba Leikolda
            Satkhrabi

            Hinglage
            Nang Eigi Houkhra 

            Wari Ningsinglaga
            Nangbu Ningsingduna

            Pirage Bidai
            Naphamda khudol Oina

            Naning Tamjakhro
            Yetlaroi Amuk Hanna

            Oijage Nangi
            Awaba Khuding
            Eigi

            Amuk Hanna
            Uba Fhangdana
            Leikhrage

            Nganlamba Meirisu
            Mutkhare

            Leihouri Meirigi
            Meishadi

            Nganlamba Meirisu
            Mutkhare

            Leihouri Meirigi
            Meishadi

            Saramba Nang Eigi
            Manglaan

            Aremba Oihoure
            Edom Leihoure
            Edom Leihoure
            Edom Leihoure

            Thengnashi Mathanggi
            Mapokta

            Lak uko
            Eigi Oina
        </div>
        <button class="download-btn" id="downloadBtn">Download</button>
    </div>

    <script>
        const playPauseBtn = document.getElementById('playPauseBtn');
        const toggleLyricsBtn = document.getElementById('toggleLyricsBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const audioPlayer = new Audio();
        audioPlayer.src = 'Kouramge - Eyoom  Lyrics.mp3'; // Replace 'audio.mp3' with your audio file URL

        let isPlaying = false;
        let isDragging = false;
        let animationFrameId; // Variable to hold the animation frame ID
        const progressBar = document.getElementById('progressBar');
        const progress = document.getElementById('progress');
        const currentTiming = document.getElementById('currentTiming');
        const fullTiming = document.getElementById('fullTiming');
        const lyricsContainer = document.getElementById('lyricsContainer');

        playPauseBtn.addEventListener('click', () => {
            if (isPlaying) {
                audioPlayer.pause();
                isPlaying = false;
                playPauseBtn.innerHTML = '<img src="play.png" alt="Play">';
                cancelAnimationFrame(animationFrameId); // Stop updating progress when paused
            } else {
                audioPlayer.play();
                isPlaying = true;
                playPauseBtn.innerHTML = '<img src="pause.png" alt="Pause">';
                requestAnimationFrame(updateProgress); // Start updating progress
            }
        });

        toggleLyricsBtn.addEventListener('click', () => {
            if (lyricsContainer.style.display === 'none') {
                lyricsContainer.style.display = 'block';
                toggleLyricsBtn.textContent = 'Hide Lyrics';
            } else {
                lyricsContainer.style.display = 'none';
                toggleLyricsBtn.textContent = 'Show Lyrics';
            }
        });

        downloadBtn.addEventListener('click', () => {
            const a = document.createElement('a');
            a.href = audioPlayer.src;
            a.download = audioPlayer.src;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        });

        progressBar.addEventListener('click', (e) => {
            const width = progressBar.clientWidth;
            const clickX = e.offsetX;
            const duration = audioPlayer.duration;
            audioPlayer.currentTime = (clickX / width) * duration;
        });

        audioPlayer.addEventListener('timeupdate', () => {
            if (!isDragging) {
                const currentTime = audioPlayer.currentTime;
                const duration = audioPlayer.duration;
                const progressWidth = (currentTime / duration) * 100 + '%';
                progress.style.width = progressWidth;
                currentTiming.textContent = formatTime(currentTime);
            }
        });

        audioPlayer.addEventListener('loadedmetadata', () => {
            const duration = audioPlayer.duration;
            fullTiming.textContent = formatTime(duration);
        });

        audioPlayer.addEventListener('ended', () => {
            isPlaying = false;
            playPauseBtn.innerHTML = '<img src="play.png" alt="Play">';
            cancelAnimationFrame(animationFrameId); // Stop updating progress when ended
        });

        progress.addEventListener('mousedown', () => {
            isDragging = true;
        });

        progress.addEventListener('mouseup', (e) => {
            const width = progressBar.clientWidth;
            const clickX = e.offsetX;
            const duration = audioPlayer.duration;
            audioPlayer.currentTime = (clickX / width) * duration;
            isDragging = false;
        });

        function updateProgress() {
            const currentTime = audioPlayer.currentTime;
            const duration = audioPlayer.duration;
            const progressWidth = (currentTime / duration) * 100 + '%';
            progress.style.width = progressWidth;
            currentTiming.textContent = formatTime(currentTime);
            animationFrameId = requestAnimationFrame(updateProgress); // Schedule next update
        }

        function formatTime(seconds) {
            let min = Math.floor(seconds / 60);
            let sec = Math.floor(seconds % 60);
            sec = sec < 10 ? '0' + sec : sec;
            return min + ':' + sec;
        }
    </script>
</body>
</html>
